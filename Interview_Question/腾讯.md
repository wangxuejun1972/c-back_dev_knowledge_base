# C/C++

#### gcc编译的步骤

#### new和malloc的区别

字节序, 大端小端,写一段C代码,判断当前环境的字节序

#### 函数指针和指针函数的区别，写个例子出来。

https://blog.csdn.net/ameyume/article/details/8220832

C，C++在定义变量时的区别（考点应该是C变量需要在前面统一声明好，C++不需要）

C++ 内存分配方式

#### 一个进程内存空间都有什么

#### 指针和引用

多态是什么，怎么实现

C++三大特性

多态的两种方式

什么是重写，什么是重载

虚函数的执行和类成员函数的执行在汇编的级别差了哪些指令

构造函数的种类

构造函数的常用场景

构造函数和=运算符的区别

#### 虚函数的实现原理 虚函数的编译实现 虚函数表

#### 多态，多继承的虚函数表

#### 虚函数的调用时机，考察虚指针的初始化时机

#### 为什么析构函数都是虚函数，不这样会怎么样？

#### 构造函数为什么不能是虚函数

#### c++虚函数和纯虚函数有什么区别，分别应用在什么场合？

#### 子类析构会调用父类的析构函数吗？执行顺序是什么？

#### 拷贝构造函数与赋值函数的区别。等号在拷贝构造函数出现的时机。什么时候需要赋值函数，深拷贝与浅拷贝

函数的重载、重定义和重写

知不知道现在C++现在发行到那个版本了？C++11有哪些新特性？

#### c++移动语义

C++11的左值和右值

c++内存模型

public和private函数在内存中的位置关系

堆区和栈区的区别

#### 代码在内存中的分布都有哪些区，宏定义存在刚才你说的哪个区域？堆栈有什么区别啊，堆中的数据会回收吗

#### 程序的内存分布。

进程的组成部分

static，const的作用，const放在函数前后的区别

const 和宏定义的区别

#### volatile的作用

STL vector和list怎么选，vector怎么插入一个string

#### 类里面成员变量能不能用memset()来进行设置？会有什么问题呢？

不能。这里说不可以，不是说真的不可以，而是说真的别这样！有些情况下是可以用的，因为类只是一个说明，对象也是这个类的一个具体化了的内存块，当你memset一个对象时，它把这块对象内存初始化了，在不影响内部结构的情况下是不会有问题的，这就是为什么有时候使用memset一个对象时不会出错的原因。如果类包含虚拟函数，则不能用 memset 来初始化类对象。

#### 内存泄漏如何观察，定位的方法，具体的检测工具

动态库和静态库的区别，使用场景，动态库的优势

#### STL六大部件 容器、算法、仿函数、迭代器、适配器、分配器 

#### 各个容器的使用场景

#### vector的容量很大，怎么减小 swap( )临时vector对象

#### 前++，后++操作符重载，怎么区分 后++有参数 

#### 四种强制类型转换，特点 static_cast、const_cast、reinterpret_cast、dynamic_cast

#### const修饰符，成员变量，成员函数，静态对象

https://www.cnblogs.com/crazy-snail/p/9420329.html

#### 纯虚函数可以有函数体吗 可以，不可实例化

#### 双向迭代器重载了哪些操作运算符 没有+，-，+=，-= 

#### 介绍迭代器失效

#### push_back会导致迭代器失效吗

inline、define、普通函数的区别

static局部数组指针的问题

智能指针

说说auto_ptr和shared_ptr区别？

C++中，对函数的传参会有拷贝的发生，如何避免拷贝？

指针和引用的区别？传指针和传引用的区别？

如果让.h文件不被重复引用？

# 网络

UDP如何改成TCP

OSI7层模型，一层一层讲。其中重点问了NAT协议，DNS协议算法

网络七层协议每层的作用，举例说明

TCP 超时重传

TCP/IP三次握手过程，为什么不是两次呢？

TCP断开连接的步骤

TCP的拥塞控制，什么时候知道网络拥塞？

MSS和MTU的区别与联系？

HTTP

https

从局域网过程是如何，利用了哪些协议。（dns,arp,icmp）

说说保留的IP字段是哪些，192.xxx它们是哪一类地址。

TCP三次握手的各个状态，详细说说？

UDP可以connect吗 可以

UDP怎么实现可靠传输

LINUX怎么查看端口 怎么查看一个TCP连接

#### TCP状态

客户端：SYN_SENT -> ESTABLISHED -> FIN_WAIT_1 -> FIN_WAIT_2 -> TIME_WAIT。 服务端：LISTEN -> SYN_RCVD -> ESTABLISHED -> CLOSE_WAIT -> LAST_ACK -> CLOSED。

#### TIME_WAITE出现在哪一端，作用。

为什么有TIME_WAIT

#### RST什么时候会出现

立连接的SYN到达某端口，但是该端口上没有正在 监听的服务。 TCP收到了一个根本不存在的连接上的分节。 请求超时。 使用setsockopt的SO_RCVTIMEO选项设置recv的超时时间。接收数据超时时，会发送RST包

#### 基于socket网络编程和tcp/ip协议栈，讲讲从客户端send()开始，到服务端recv()结束的过程，越细越好

tcpdump抓包，如何分析数据包

tcp如何设定超时时间

数据包如何编解码，tcp黏包问题如何解决

网络库的性能如何，怎么测试性能，如何计时和计数

RST报文和哪个信号相关

打洞听说过吗？打洞是用什么协议实现的呢？UDP还是TCP？有哪些使用UDP和TCP的协议呢？

HTTP了解吗，HTTP1，HTTP1.1，HTTP2有啥区别，HTTP header都有啥内容啊，HTTP方法有哪些啊，GET/POST区别是啥，长链接的发送顺序和接受顺序要一致嘛，可能被阻塞嘛？

HTTPS了解吗，握手流程是怎么样的，加密是对称还是非对称，协议相比HTTP有什么好处呢？HTTP和HTTPS的端口分别是啥

如果用户输入的是http://xxx.com的网址，但是已经升级到了HTTPS，会发生什么呢？你会怎么处理呢？

# 底层原理

stl的容器结构

红黑树

STL中Map的最佳复杂度、平均复杂度、最差复杂度

Map的底层数据结构

map和hashmap的区别，查找的时间复杂度分别是多少？

#### deque的底层实现 STL源码剖析

#### 红黑树的特点

#### 智能指针解决什么问题。怎么实现的。说说其构造函数，拷贝构造函数的实现

#### STL内存分配策略 STL源码剖析

stl容器是否线程安全

讲一下哈希表的底层细节，让你设计一个线程安全的哈希表，会怎么设计

让你实现一个哈希表，怎么做（当时按照Redis中哈希表的实现原理回答）

malloc()的底层细节，brk()和mmap()

操作系统的cache有哪些，cpu有几级缓存，有没有听说过cache line

说说epoll的数据结构，大致是双链表和RB-Tree

说一下STL的空间配置器(两级分配)

你觉得Redis哪里设计的好？

页面解析是如何解析的？

B＋树

# 算法

快排的思想（最优最坏的数据分布情况和对应的时间复杂度）

快排的过程。

#### 快排空间、时间复杂度 O(1)（递归logn~n）,O(nlogn)

#### 什么是稳定性排序，快排是稳定性的吗，为什么

#### 快排算法最差情况推导公式

堆排

堆排序怎么维护堆，时间复杂度多少？

常用排序算法的复杂度

桶排序和希尔排序，希尔排序和快速排序区别

#### 稳定的排序算法有什么

对32位整数进行排序

#### 一个无序数组，找最长降序子序列的长度

找出序列中和最大的连续子序列的下标起始和结尾

#### 一个连续递增数组 ，相邻元素之间未出现的数字为hole， 找从右往左第n个hole ，例如[2, 3, 4, 6, 9]  第3个hole为5

#### 有序数组找两数和为target的组合

1000个苹果分在10个篮子里，问如何分配使得想取任意个苹果的时候都能整篮提走？（2的10次方嘛，就考二进制而已）

#### rand5实现rand7

手写两道算法题：二分查找和一个很简单的二维数组搜索。

 leetcode第二题，把10进制改成了16进制

实现atoi, itoa

#### 手写strcpy；

#### 手写memcpy；

手撕代码，经典的int和char*互相转换

#### 写非递归后序遍历；

手写代码，链表反转

手写代码，跳台阶

手撕代码，数组内两个子区间交换

手写代码，有一个无序数组，找到子数组使得子数组所有元素之和大于给定的数，并且子数组是最短的那个

手写代码，twosum

手写代码，threesum

回文子串

实现单链表的有序插入

#### 两个单链表有公共节点，找出第一个

#### 手写单向链表的倒数第1000个节点。（注意链表本身可能没有1000那么长，和链表为空）

单向链表判断环路和入口

反转单链表

怎么给链表排序

#### 两个栈实现队列

判断一棵树是不是AVL树

合并N 个有序数组，数组长度不一致，后面又改为链表

#### 二叉树根节点到叶节点和为target的所有路径

#### 将字符串按单词倒序，例如(Aaa  Bbb,  Ccc ，重新排序后结果是Ccc Bbb Aaa, 忽略特殊字符，单词以空格分隔)

#### 字符串通配符'?'与'*'，给定源字符串与目标字符串，编程判断是否能匹配（注意*bc与abcbc能匹配）

字符串去掉不可见字符

哈希怎么实现

Hash分桶

####  哈希冲突的解决方法

#### 100万数据找top k

#### 10亿个数找中位数

#### 实现一个维护有最大值的队列。

不要用其它数据结构

#### 判断一个数是不是2的幂

判断一个数是不是回文数

判断一个二叉树是不是平衡二叉树

指出代码中的问题（一个单例模式）需要考虑线程安全 饿汉、懒汉

 一个含N个数的随机无序数组，每次操作可以使随机N-1个数+1，求需要至少多少次能使整个数组所有数相等。

背包问题

加密解密算法   

#### TCP滑动窗口实现。

写出来的代码包括确认重传机制和动态调节窗口大小的功能

#### 怎么快速查找QQ号是否被占用。

使用bitmap，百亿级的QQ号，使用bitmap存储，100G内存差不多足够了

#### 100w个关键词，每个关键词小于等于50字节，找出前10个出现次数最多的关键词。内存只有1M。

#### 2000w个节点，存在于地图上。在地图上给定任意一个节点，输出以此节点为圆心，半径 为1公里内的，所有节点。

#### 有100个弹珠，双方轮流拿，每个人只能拿1~5个，无法拿的人输，必胜解法

一亿条电话号码删除重复的部分，时间、空间复杂度尽可能低

10万个手机号找出重复最多的十个，10亿个手机号呢。

#### 给40亿个不重复的unsigned int的整数，没排过序的，然后再给一个数，如何快速判断这个数是否在那40亿个数当中

# Linux

#### 系统调用是什么。你用过哪些系统调用。什么系统调用会耗时长

#### gdb调试用过吗。什么是条件断点

IO多路复用epoll&select

线程间通讯方式

#### 进程间通信 管道、共享内存、消息队列、套接字、信号、信号量

进程间通信方式有哪些？具体介绍一下管道？

#### fork的返回值，什么时候是子进程，什么时候是父进程 

#### 子进程怎么才能不继承父进程的句柄 exec函数族

#### 进程和线程的区别

进程共享了什么资源

线程不共享什么资源

段描述符存在哪

逻辑地址怎么变成物理地址

进程通信的机制

你为啥觉得共享内存的效率最高

#### 窗口是进程还是线程

线程。进程同步问题

如何监控进程异常退出

如果进程没有退出，但是处于异常状态 比如死循环或者挂起？ 

如何判断进程是由于死循环造成的100%cpu占用还是由于进行着一个及其耗资源的计算造成的100%cpu占用

线程崩溃的处理方式

怎么加载动态库

#### 你都使用什么线程模型、介绍协程

为什么有了线程还要协程？

listen 中的 backlog 含义和作用。

linux 下 established 连接队列。

Linux现在发行到哪个版本了？你一般用Centos还是Ubuntu啊，为什么？

Linux下查看内存使用命令是什么？查看负载的命令是什么？

cpu核数如何查看。

cpu负载怎么看（uptime），参数的意义。

Linux中怎么取出文本最后一列的数据？

epoll服务器接口函数调用过程 相应接口：socket, bind, listen, epoll_create, epoll_ctrl, epoll_wait, accept

#### epoll ET LT的使用场景 ET LT的区别

#### 什么时候产生EPOLLOUT事件，什么时候产生EPOLLINT事件

 accept建立连接时客户端触发EPOLLOUT事件，服务端有新连接，可读，断开时EPOLLINT事件

linux怎么查看内存占用、CPU占用、IO占用 free,top,iostat,vmstat,sar 

有没有了解过nginx，如何将监听到的连接分配到其他线程

linux内核是否支持多进程或多线程accept()同一个listenfd

linux有哪些锁，详细介绍一下

原子性的理解，系统底层如何实现原子性

int类型全局变量读、写、自增哪些是原子性的

linux如何设置core文件生成

linux如何设置开机自启动

linux用过哪些命令、工具

用过哪些工具检测程序性能，如何定位性能瓶颈的地方

core dump有没有遇到过，gdb怎么调试

linux虚拟地址与物理地址如何对应

Linux内核是怎么实现定时器的

socket 编程了解吗，调用write函数进行了几次内存拷贝呢？那是否可以减少拷贝次数呢？如果缓冲区写满了会怎样，还可以继续write吗？

mmap，怎么实现的了解吗？ 是只能映射用户空间和内核空间吗？

linux熟悉吗，shell脚本写过吗，awk用过吗？

了解编译优化吗，说说看

LINUX创建一个文件夹的过程

操作系统的内存管理是如何进行的？ 内存碎片怎么处理的？

在一个文件夹里面找到文件包含以 Tencent 开始log结尾的所有文件

当文件里面有客户端IP-服务端IP-Request，写一个命令找出所有的Request

# 系统设计

并发的设计

如何高并发，容灾，扩容

多个进程共同监听一个端口引发的惊群效应

惊群问题

讲一下协程

有没有想过无锁队列的实现

在高并发的生产环境中（非调试场景下），如果出现数据包的丢失，如何定位问题

常见的并发模型有哪些

考虑你有一个服务，可能会起十个进程，如果某一个进程挂了，需要能感知到并且重新拉起来，请问你会怎么设计？

线程之间是怎么同步的呢？同一台机器上的进程之间如何做到互斥的进行某个操作呢？

有没有用过什么缓存 怎么设计一个LRU，怎么设计一个线程安全的LRU,怎么不用锁设计一个线程安全的LRU

搜索引擎，比如百度，搜狗等等用户输入一点信息就会弹出自动补齐的提示信息，这个如果让你来实现，你怎么实现？

假如要传10G的文件，有两种传输方案，一是从深圳传到北京，二是先从深圳传到上海再传到北京，哪种传输方案高？为什么？

了解负载均衡吗？如何让你的服务器支持高并发？

# 项目

介绍自己的项目、难点在哪里、怎么解决的

在XX公司实习过程中，遇见最大的项目难题是啥，如何解决的

项目的应用场景和整体架构，有没有用到缓存后续想没想过优化

项目结构、遇到哪里难题、如何解决

项目中的技术细节

你的项目为什么用epoll

如果要把协程应用到你的项目里，该怎么做

做过什么项目，并解释一下最深的技术难点

项目中觉得特别难的地方

用过什么开源库

看过哪些开源项目？

如何处理项目中的问题

说出你印象最深刻的项目？

说说你看过的网络库

项目里的线程池怎么设计的？

你的项目有没有做过压力测试呢？ 能够承受的压力是多大

# Redis

Redis持久化的几种方式

数据对象以什么形式写入内存，或者网络传输的（我说json序列化，他说json效率低，问有没有研究过更好的方法）

redis怎么设计



REDIS 数据类型 使用场景 REDIS是多进程还是多线程

# MySQL

MYSQL的GroupBy是如何实现的

数据库的索引。

SQL语句，查询两个数据库表中ID相同的信息

MySQL的优化？MySQL如何应对大并发场景？

#### 索引是什么，多加索引一定会好吗？

数据库隔离级别，mysql和redis区别

redis的内存淘汰策略，持久化策略

数据库日志，REDO和UNDO ，索引

项目性能瓶颈在哪，数据库表怎么设计

假设项目的性能瓶颈出现在写数据库上，应该怎么解决峰值时写速度慢的问题

假设数据库需要保存一年的数据，每天一百万条数据，一张表最多存一千万条数据，应该怎么设计表

# 智力题

一个矩形蛋糕,蛋糕内部有一块矩形的空洞。只用一刀,如何将蛋糕切成大小相等的两块

36匹马6个跑道无秒表选前三，最少跑几轮。

25匹马5条跑道，要决出前三名，最快跑几次？        7次

25匹马5条跑道，要决出前五名，需要跑几次？        最少8次最多9次

两个香，一个火机，每根可以燃烧60分钟，非均匀分布，需要测出15分钟的时间。

手里有**两颗**特殊材质的珠子（有的题说是鸡蛋，有的说是玻璃球，以此类推），有**100层楼**，现在想测试珠子的**安全层数L**，即珠子在L层扔下不会碎，在L+1层扔下去就会碎，想出方法用**最少得扔珠子次数**，求得L。

 你有两根粗细不均的香，每根完全烧完都需要1小时，如何确定一段30分钟或45分钟的时间？

 你有一个5升的水桶和一个3升的水桶，怎样才能量出4升的水?

# 场景题

大楼每天上班的人比较多，电梯很拥挤，你能否给出一个解决方案，让有需要的人快速坐上电梯，如何实现，会有哪些问题     电梯调度算法

现在要完成一个微博评论的部分，想在用户进入新闻时优先看到自己好友对此新闻的评论，好友可能有多条评论，怎么设计结构。

#### 考虑你向业务方提供热更新的服务，业务方可能是在多线程的场景下，会去读取config文件，也会不定时去更新config文件，config文件很大（大约50G），只有一份且存在磁盘上，内存大约128G。问如何设计这个updater类，使得业务方在更新时可以无感知的进行读取config的操作。

在面试官的引导下以及redis重哈希的启发，想出了double buffering的思路，然后去实现，同时要考虑多个线程更新config、多个线程读取config、文件在内存中副本的保存（因为太大了）等等情况，尽量和真实场景贴近。

你怎么估算一棵树有多少片树叶

# 其他

为什么工作经历，对面试工作的看法等   

觉得自己适不适合做技术，为什么

怎么学习新的技术或技能

看过哪些技术方面的书籍

为啥对腾讯感兴趣

三句性格的优点与三句性格的缺点来评价自己

最近在学什么东西